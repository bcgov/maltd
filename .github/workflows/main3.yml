name: Cypress Run
on: [push]
jobs:
  cypress-run:
    runs-on: ubuntu-latest
    # Docker image with Cypress pre-installed
    # https://github.com/cypress-io/cypress-docker-images/tree/master/included
    container: cypress/included:3.8.3
    steps:
      - uses: actions/checkout@v1
      - run: cypress run
        with:
          start: npm --prefix maltd-frontend run start
          build: npm --prefix maltd-frontend ci
          wait: localhost:3000/
          browser: chrome
          headless: true
          working-directory: maltd-frontend
